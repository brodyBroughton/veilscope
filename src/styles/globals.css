@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ==============================
   Veilscope – Global + Landing
   ============================== */

:root{
  --color-primary:#F3F4F6;
  --color-secondary:#1F2937;
  --color-accent:#3B82F6;
  --color-accent-2:#EC4899;
  --color-highlight:#9CA3AF;

  --radius-xl:999px;
  --radius-lg:12px;

  --gap-1:8px; --gap-2:12px; --gap-3:16px; --gap-4:24px;
  --nav-height:76px;

  --shadow-subtle:0 2px 20px rgba(0,0,0,.06);
  --shadow-card:0 10px 30px rgba(0,0,0,.08);

  --viz-aspect:16/9;
  --viz-min-h:260px;
  --viz-max-h:380px;
}

*{box-sizing:border-box}
html,body{height:100%;width:100%;max-width:100%;overflow-x:hidden;scroll-behavior:smooth}
body{
  margin:0;background:var(--color-primary);color:var(--color-secondary);
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  line-height:1.5;
}
:where(a,button,[tabindex]):focus-visible{outline:3px solid var(--color-accent);outline-offset:2px;border-radius:6px}
.sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}
.skip-link{position:absolute;left:-9999px;top:0;background:#fff;color:var(--color-secondary);padding:10px 14px;border-radius:8px;box-shadow:var(--shadow-subtle)}
.skip-link:focus{left:12px;top:12px;z-index:1001}

img,svg{max-width:100%;height:auto;display:block}

/* ===== Header / Nav (global) ===== */
.site-header{position:fixed;inset:0 0 auto 0;z-index:1000;background:var(--color-primary);box-shadow:var(--shadow-subtle);height:var(--nav-height)}
.nav-wrap{max-width:1200px;margin:0 auto;height:100%;padding:0 var(--gap-4);display:flex;align-items:center;gap:var(--gap-4)}
.brand{display:inline-flex;align-items:center;text-decoration:none}
.brand-logo{height:40px;width:auto;display:block}
.primary-nav{margin-left:0;flex-shrink:0}
.nav-actions{margin-left:var(--gap-4);display:flex;gap:var(--gap-3);align-items:center}

/* Buttons */
.btn{
  --pad-x:18px;--pad-y:10px;
  display:inline-flex;align-items:center;justify-content:center;
  padding:var(--pad-y) var(--pad-x);border-radius:var(--radius-xl);
  text-decoration:none;font-weight:700;letter-spacing:.01em;line-height:1;white-space:nowrap;
  transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease,background-color .15s ease
}
.btn-login{background:var(--color-highlight);color:var(--color-secondary);box-shadow:inset 0 0 0 2px rgba(0,0,0,.04)}
.btn-login:hover{opacity:.92}
.btn-get-started{background:var(--color-accent-2);color:#fff;box-shadow:0 6px 24px rgba(236,72,153,.35)}
.btn-get-started:hover{box-shadow:0 8px 28px rgba(236,72,153,.45)}
.btn:active{transform:translateY(1px)}

.nav-list{list-style:none;margin:0;padding:0;display:flex;align-items:center;gap:var(--gap-4)}
.nav-list a{text-decoration:none;color:var(--color-secondary);font-weight:600;padding:10px 8px;border-radius:8px;transition:color .18s ease,background-color .18s ease,transform .18s ease}
.nav-list a[aria-current="page"]{background:rgba(0,0,0,.05)}
.nav-list a:hover{background:rgba(0,0,0,.04)}

/* Mobile menu */
.nav-toggle{position:fixed;top:0;left:0;width:1px;height:1px;opacity:0;pointer-events:none}
.hamburger{display:none;margin-left:auto;cursor:pointer;padding:8px 2px;border-radius:10px}
.hamburger .bar{
  display:block;width:34px;height:4px;margin:6px 10px;background:var(--color-secondary);
  border-radius:4px;transition:transform .25s ease;
}
.mobile-drawer{position:fixed;z-index:999;top:var(--nav-height);left:0;right:0;bottom:0;background:var(--color-primary);transform:translateX(100%);transition:transform .32s ease;display:flex;flex-direction:column;padding:24px;overflow:auto}
.drawer-nav{display:flex;flex-direction:column;gap:22px}
.drawer-link{font-weight:700;text-decoration:none;color:var(--color-secondary);font-size:20px}
.drawer-actions{display:flex;gap:12px;margin-top:24px;flex-wrap:wrap}

#nav-toggle:checked ~ .mobile-drawer{transform:translateX(0)}
#nav-toggle:checked + .site-header .hamburger .bar:nth-child(1){transform:translateY(10px) rotate(45deg)}
#nav-toggle:checked + .site-header .hamburger .bar:nth-child(2){opacity:0;visibility:hidden;transition:none}
#nav-toggle:checked + .site-header .hamburger .bar:nth-child(3){transform:translateY(-10px) rotate(-45deg)}
.site-header .hamburger:active .bar:nth-child(2){opacity:0;visibility:hidden;transition:none}

@media (max-width:900px){.primary-nav,.nav-actions{display:none}.hamburger{display:inline-block}}
@media (min-width:901px){.mobile-drawer{display:none!important;transform:translateX(100%)!important;pointer-events:none}}

/* ===== Hero (landing) ===== */
.hero{
  position:relative;min-height:clamp(520px,72vh,900px);margin-top:var(--nav-height);
  width:100%;
  background:linear-gradient(180deg,#3B82F6 0%,rgba(59,130,246,.92) 28%,rgba(59,130,246,.25) 58%,var(--color-primary) 82%);
  background-repeat:no-repeat;
  display:flex;align-items:flex-start;
}
.hero-inner{max-width:1200px;margin:0 auto;padding:72px 24px 96px}
.hero-title{font-weight:800;letter-spacing:-.02em;font-size:clamp(40px,6vw,64px);line-height:1.1;margin:0 0 20px}
.hero-subtitle{font-size:clamp(18px,2.2vw,26px);max-width:48ch;margin:0 0 28px}
.hero-ctas{display:flex;gap:16px}
.scroll-cue{position:absolute;left:50%;bottom:18px;transform:translateX(-50%);display:inline-flex;align-items:center;gap:10px;padding:8px 14px;border-radius:999px;text-decoration:none;font-weight:700;color:var(--color-secondary);background:rgba(255,255,255,.55);box-shadow:0 4px 18px rgba(0,0,0,.10);backdrop-filter:blur(6px)}
.scroll-cue .cue-arrow{font-size:18px;line-height:1}

/* ===== Section 1 – How it works (landing) ===== */
.section-how{background:var(--color-primary);padding:clamp(40px,7vw,84px) 24px}
.how-wrap{
  max-width:1200px;margin:0 auto;
  display:grid;grid-template-columns:1.1fr 1fr;gap:clamp(28px,6vw,64px);align-items:center
}
.how-eyebrow{margin:0 0 8px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--color-highlight);font-size:12px}
.how-title{margin:0 0 14px;font-weight:800;letter-spacing:-.02em;line-height:1.12;color:var(--color-secondary);font-size:clamp(30px,5vw,52px)}
.how-lede{margin:0 0 16px;max-width:58ch;font-size:clamp(16px,2.2vw,20px)}
.how-link{display:inline-block;margin-top:6px;font-weight:700;text-decoration:none;color:var(--color-accent)}
.how-visual{width:100%}

.pipeline-svg{display:block;width:100%;max-width:640px;height:auto;margin-left:auto}
.pipeline-svg .doc-plate{fill:#E5E7EB}
.pipeline-svg .doc{fill:#FFFFFF;stroke:rgba(0,0,0,.10);stroke-width:1.5}
.pipeline-svg .doc-line{stroke:var(--color-secondary);stroke-width:2;stroke-linecap:round;opacity:.8;vector-effect:non-scaling-stroke}
.pipeline-svg .label{font-family:inherit;font-size:12px;fill:var(--color-secondary);opacity:.8;text-anchor:middle}
.pipeline-svg .engine-ring{fill:none;stroke:var(--color-accent-2);stroke-width:12}
.pipeline-svg .engine-notch{stroke:var(--color-accent-2);stroke-width:10;stroke-linecap:butt;vector-effect:non-scaling-stroke}
.pipeline-svg .connector{fill:none;stroke:var(--color-secondary);stroke-width:3;stroke-linecap:round;vector-effect:non-scaling-stroke}
.pipeline-svg .card{fill:#FFFFFF;stroke:rgba(0,0,0,.10);stroke-width:1.5}
.pipeline-svg .pill{fill:var(--color-accent-2)}
.pipeline-svg .metric{font-weight:800;font-size:18px}
.pipeline-svg .card-line{fill:var(--color-secondary);opacity:.25}
.pipeline-svg .spark{fill:none;stroke:var(--color-accent);stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;vector-effect:non-scaling-stroke}

/* ===== Section 2 – Features (landing) ===== */
.section-features{background:var(--color-primary);padding:clamp(56px,8vw,96px) 24px}
.features-wrap{max-width:1200px;margin:0 auto}
.features-head{text-align:center;margin-bottom:clamp(28px,6vw,48px)}
.features-title{font-size:clamp(28px,5.2vw,46px);line-height:1.15;font-weight:800;letter-spacing:-.02em;margin:0}
.features-grid{display:grid;grid-template-columns:1fr 1fr;gap:clamp(28px,5vw,56px);align-items:start}
.feature{display:flex;flex-direction:column}
.feature-title{font-size:clamp(18px,2.1vw,22px);margin:18px 0 6px;font-weight:800}
.feature-text{font-size:clamp(15px,1.7vw,19px);margin:0 0 8px;max-width:58ch}
.text-link{color:var(--color-accent);text-decoration:none;font-weight:700}
.text-link:hover{text-decoration:underline}

.feature-visual .viz-card{
  width:100%;aspect-ratio:var(--viz-aspect);min-height:var(--viz-min-h);max-height:var(--viz-max-h);
  background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-card);padding:16px;
  transition:transform .18s ease,box-shadow .18s ease;display:flex;align-items:center;justify-content:center
}
.feature-visual .viz-card:hover{transform:translateY(-3px);box-shadow:0 14px 40px rgba(0,0,0,.12)}
.viz-card--wide{padding:0}
.filings-svg{width:100%;height:100%;display:block}

/* Scorecard mini UI */
.score-panel{background:var(--color-secondary);color:#fff;width:clamp(260px,52vw,420px);border-radius:16px;padding:18px 20px;box-shadow:0 8px 24px rgba(0,0,0,.25)}
.score-label{text-transform:uppercase;letter-spacing:.08em;font-weight:800;font-size:12px;color:#CBD5E1}
.score-value{display:flex;align-items:baseline;gap:8px;margin:8px 0 12px}
.score-number{font-size:clamp(30px,7vw,44px);font-weight:800;line-height:1}
.muted{opacity:.85;font-weight:700}
.score-bar{height:8px;width:100%;background:rgba(255,255,255,.18);border-radius:999px;overflow:hidden;margin-bottom:14px}
.score-fill{display:block;height:100%;background:var(--color-accent-2);border-radius:999px}
.factors{list-style:none;padding:0;margin:0;display:grid;gap:8px;font-size:clamp(12px,3.4vw,14px)}
.factors li{display:flex;align-items:center;gap:8px}
.factors .dot{width:8px;height:8px;border-radius:50%;background:var(--color-accent-2);flex:0 0 auto}

/* ===== Section 3 – Final CTA (landing) ===== */
.section-cta{background:var(--color-primary);padding:clamp(56px,8vw,96px) 24px}
.cta-wrap{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1.1fr 1fr;gap:clamp(28px,6vw,56px);align-items:center}
@media (max-width:900px){.cta-wrap{grid-template-columns:1fr}}
.cta-visual{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-card);overflow:hidden;aspect-ratio:16/10;min-height:300px;display:flex;align-items:center;justify-content:center}
.network-svg{width:100%;height:100%;display:block}
.cta-title{font-weight:800;letter-spacing:-.02em;font-size:clamp(26px,4.8vw,42px);line-height:1.12;margin:0 0 8px}
.cta-lede{font-size:clamp(15px,2vw,19px);margin:0 0 16px}
.cta-actions{display:flex;gap:12px;flex-wrap:wrap}

/* ===== Footer (global) ===== */
.footer-leadin{width:100%;height:clamp(80px,12vw,140px);background:linear-gradient(180deg,rgba(59,130,246,0) 0%,rgba(59,130,246,.10) 60%,rgba(236,72,153,.14) 100%)}
.site-footer{background:var(--color-secondary);color:#E5E7EB}
.site-footer a{color:#E5E7EB;text-decoration:none}
.site-footer a:hover{color:#ffffff;text-decoration:underline}

.footer-wrap{max-width:1200px;margin:0 auto;padding:clamp(36px,6vw,56px) 24px;display:grid;grid-template-columns:1.1fr 1fr 1fr 1fr;gap:clamp(24px,4vw,40px)}
@media (max-width:1000px){.footer-wrap{grid-template-columns:1fr 1fr}}
@media (max-width:600px){.footer-wrap{grid-template-columns:1fr}}
.brand--footer .brand-logo{height:34px}
.footer-title{margin:0 0 12px;font-size:14px;letter-spacing:.08em;text-transform:uppercase;color:#CBD5E1;font-weight:800}
.footer-links{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.newsletter{margin-top:12px}
.newsletter-label{display:block;font-weight:800;color:#fff;margin-bottom:8px}
.newsletter-row{display:flex;gap:10px;align-items:center}
.newsletter input{flex:1 1 auto;height:44px;border-radius:10px;border:1px solid rgba(255,255,255,.18);background:#374151;color:#fff;padding:0 12px;font:inherit}
.newsletter input::placeholder{color:#9CA3AF}
.newsletter .btn-get-started{padding:12px 16px}
.newsletter-help{margin:8px 0 0;font-size:12px;color:#CBD5E1}

.footer-bottom{border-top:1px solid rgba(255,255,255,.08);padding:16px 24px;display:flex;align-items:center;justify-content:space-between;gap:12px;max-width:1200px;margin:0 auto}
@media (max-width:700px){.footer-bottom{flex-direction:column;align-items:flex-start}}
.legal-links{list-style:none;display:flex;gap:14px;margin:0;padding:0;flex-wrap:wrap}
.legal-links a{color:#E5E7EB;text-decoration:none}

/* ===== Mobile refinements (landing) ===== */
@media (max-width:720px){
  .hero-inner{padding:64px 16px 88px;text-align:center}
  .hero-title{font-size:clamp(30px,8vw,42px)}
  .hero-subtitle{font-size:clamp(15px,4.5vw,20px);margin-left:auto;margin-right:auto}
  .hero-ctas{justify-content:center;flex-wrap:wrap}
  .btn{--pad-x:16px;--pad-y:10px}

  .how-wrap{
    grid-template-columns:1fr;
    justify-items:center;
    text-align:center;
    padding:0 20px;
    width:100%;
  }
  .how-copy{width:100%;max-width:100%;text-align:center}
  .how-visual{width:100%;max-width:100%;display:flex;justify-content:center}
  .how-title{font-size:clamp(26px,7vw,40px)}
  .how-lede{font-size:clamp(14px,4.2vw,18px);margin-left:auto;margin-right:auto}
  .how-link{display:inline-block}
  .pipeline-svg{width:min(90vw,480px);margin:12px auto 0}

  .features-wrap{
    padding:0 20px;
    width:100%;
  }
  .features-head{text-align:center;margin-bottom:32px}
  .features-title{text-align:center}
  .features-grid{
    grid-template-columns:1fr;
    justify-items:center;
    text-align:center;
    gap:40px;
  }
  .feature{
    align-items:center;
    width:100%;
    max-width:100%;
    text-align:center;
  }
  .feature-visual{width:100%;display:flex;justify-content:center}
  .feature-visual .viz-card{
    width:min(90vw,520px);
    min-height:200px;
    max-height:320px;
    margin:0 auto;
  }
  .viz-card--wide{width:min(90vw,600px);margin:0 auto}
  .feature-title{font-size:clamp(18px,5.2vw,22px)}
  .feature-text{font-size:clamp(14px,4.4vw,18px);max-width:100%;margin-left:auto;margin-right:auto}
  .text-link{display:inline-block}

  .score-panel{width:clamp(240px,80vw,340px);margin:0 auto}

  .cta-wrap{
    grid-template-columns:1fr;
    justify-items:center;
    text-align:center;
    padding:0 20px;
    width:100%;
  }
  .cta-visual{width:min(90vw,600px);margin:0 auto}
  .cta-copy{text-align:center}
  .cta-title{font-size:clamp(24px,7vw,38px)}
  .cta-lede{font-size:clamp(14px,4.2vw,18px);margin-left:auto;margin-right:auto}
  .cta-actions{justify-content:center}
}

@media (max-width:380px){
  .btn{--pad-x:14px;--pad-y:9px}
  .feature-visual .viz-card{width:94vw;min-height:180px}
  .viz-card--wide{width:96vw}
}

/* ==============================
   Project Updates page (updates)
   ============================== */

.updates-hero {
  background: linear-gradient(180deg, #fff, rgba(59,130,246,.06));
  padding: clamp(72px, 9vw, 120px) 0 clamp(28px, 4.5vw, 48px);
  margin-top: var(--nav-height);
  border-bottom: 1px solid #E5E7EB;
}
.updates-wrap {
  max-width: 1160px;
  margin-inline: auto;
  padding-inline: 20px;
}
.updates-hero h1 {
  font-size: clamp(28px, 3.6vw, 44px);
  line-height: 1.1;
  letter-spacing: -0.02em;
  color: var(--color-secondary);
  margin: 0 0 12px;
}
.updates-hero p {
  color: #374151;
  font-size: clamp(16px, 1.6vw, 18px);
  margin: 0;
}

/* Toolbar */
.updates-toolbar {
  max-width: 1160px;
  margin: 0 auto 10px;
  padding: 16px 20px;
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 16px;
}
.updates-toolbar .search input {
  width: 100%;
  border: 1px solid #E5E7EB;
  background: #fff;
  border-radius: 12px;
  padding: 12px 14px;
  font: inherit;
  color: var(--color-secondary);
}
.updates-toolbar .search input:focus {
  outline: none;
  box-shadow: 0 0 0 6px rgba(59,130,246,.15);
}

.chips {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}
.chip {
  border: 1px solid #E5E7EB;
  background: #fff;
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 600;
  color: #374151;
  cursor: pointer;
  transition: transform .08s ease, background .2s ease, color .2s ease, border-color .2s ease;
}
.chip[data-active="true"],
.chip[aria-pressed="true"] {
  background: rgba(236,72,153,.12);
  border-color: rgba(236,72,153,.35);
  color: var(--color-accent-2);
}
.chip:active { transform: translateY(1px); }

.sort {
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: flex-end;
  color: #6B7280;
  font-weight: 600;
}
.sort select {
  border: 1px solid #E5E7EB;
  background: #fff;
  color: var(--color-secondary);
  border-radius: 10px;
  padding: 8px 12px;
  font: inherit;
}

/* Grid for cards */
.updates-section { padding: 10px 0 64px; }

.updates-grid {
  /* scoped “page variables” (won’t affect the rest of the site) */
  --updates-card-h: 368px;
  --updates-media-frac: .52;
  --updates-gap-lg: 28px;
  --updates-gap-md: 22px;
  --updates-gap-sm: 16px;

  max-width: 1160px;
  margin: 0 auto;
  padding-inline: 20px;

  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: var(--updates-gap-lg);
  align-items: stretch;
  grid-auto-rows: var(--updates-card-h);
}

.update-card { grid-column: span 4; }
.update-card--featured { grid-column: span 8; }

@media (min-width: 1201px) {
  .updates-grid.has-two-featured .update-card--featured { grid-column: span 6; }
}

/* Card */
.update-card {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 8px 28px rgba(2, 8, 23, .08);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  box-sizing: border-box;
}

.update-card-link {
  display: flex;
  flex-direction: column;
  height: 100%;
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  border-radius: 14px;
}
.update-card-link:focus-visible {
  outline: 3px solid rgba(59,130,246,.35);
  outline-offset: 3px;
}

/* Media area */
.update-media {
  position: relative;
  height: calc(var(--updates-card-h) * var(--updates-media-frac));
  background: linear-gradient(180deg, #F8FAFC, #F3F4F6);
  overflow: hidden;
}
.update-media picture { position: absolute; inset: 0; display: block; }

/* Hide browser alt-text fallback if an image fails */
.update-media img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: 0 !important;
  outline: none !important;
  box-shadow: none !important;
  background: transparent;
  color: transparent;
  font-size: 0;
  text-indent: -9999px;
}

.update-media.is-empty { background: linear-gradient(180deg, #F8FAFC, #F3F4F6); }
.update-media .is-empty { width: 100%; height: 100%; font-size: 0; color: transparent; }

/* Badge (scoped) */
.update-media .badge,
.update-hero .badge {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .02em;
  border-radius: 999px;
  color: #fff;
  background: var(--color-accent-2);
  box-shadow:
    0 0 0 2px rgba(255,255,255,0.90),
    0 0 10px rgba(255,255,255,0.70),
    0 6px 18px rgba(236,72,153,0.28);
  z-index: 2;
  pointer-events: none;
}

/* Body */
.update-body {
  display: flex;
  flex-direction: column;
  padding: 14px 16px 10px;
  flex: 1 1 auto;
  min-height: 0;
  border-top: 1px solid #EEF2F7;
}
.update-meta {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px 10px;
  color: #6B7280;
  font-size: 13px;
  margin-bottom: 2px;
}
.update-tags { display: inline-flex; gap: 6px; flex-wrap: wrap; }
.update-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
  font-size: 12px;
  color: var(--color-accent-2);
  background: rgba(236,72,153,.10);
  border: 1px solid rgba(236,72,153,.32);
  padding: 4px 8px;
  border-radius: 999px;
}

/* Title & summary clamp */
.update-title,
.update-summary {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  --lh: 1.25;
  --lc: 2;
  line-height: var(--lh);
  max-height: calc(var(--lc) * var(--lh) * 1em);
  -webkit-line-clamp: var(--lc);
}
.update-title {
  margin: 2px 0 0;
  color: var(--color-secondary);
  font-size: 18px;
  font-weight: 800;
  letter-spacing: -0.01em;
}
.update-card--featured .update-title { font-size: 20px; }

.update-summary {
  margin: 0;
  color: #374151;
  font-size: 14px;
  --lc: 2;
  --lh: 1.45;
}
.update-card--featured .update-summary { --lc: 3; }

.update-actions {
  margin-top: auto;
  padding: 0 16px 14px;
  display: flex;
  gap: 12px;
  align-items: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.update-card-link .read-more {
  color: var(--color-accent);
  font-weight: 800;
  text-decoration: none;
}
.update-card-link:hover .read-more { text-decoration: underline; }

/* Responsive */
@media (max-width: 1200px) {
  .updates-grid { gap: var(--updates-gap-md); }
  .update-card { grid-column: span 6; }
  .update-card--featured { grid-column: span 12; }
}
@media (max-width: 720px) {
  .updates-toolbar {
    grid-template-columns: 1fr;
    gap: 12px;
    padding: 12px 20px 8px;
  }
  .updates-toolbar > .search,
  .updates-toolbar > .chips,
  .updates-toolbar > .sort { min-width: 0; }
  .chips, .sort { justify-content: flex-start; }
  .sort select { width: 100%; }

  .updates-grid { gap: var(--updates-gap-sm); grid-auto-rows: auto; }
  .update-card { height: auto; }
  .update-media { height: auto; aspect-ratio: 16 / 9; }
  .update-card--featured .update-media { aspect-ratio: 21 / 9; }

  .update-title { --lc: 3; }
  .update-summary { --lc: 3; }

  @supports (-webkit-line-clamp: 1) {
    .update-title, .update-summary { max-height: none; }
  }
}

@media (prefers-reduced-motion: reduce) { .chip { transition: none; } }

/* ==============================
   Update detail page (update)
   ============================== */

/* Makes the HTML [hidden] attribute behave consistently */
[hidden] { display: none !important; }

.update-hero {
  background: linear-gradient(180deg, #fff, rgba(59,130,246,.06));
  margin-top: var(--nav-height);
  border-bottom: 1px solid #E5E7EB;
  padding: clamp(56px, 8vw, 96px) 0 clamp(16px, 4vw, 28px);
}
.update-wrap {
  max-width: 1160px;
  margin-inline: auto;
  padding-inline: 20px;
}
.crumbs { margin-bottom: 10px; }
.crumb-back {
  text-decoration: none;
  font-weight: 800;
  color: var(--color-accent);
}
.crumb-back:hover { text-decoration: underline; }

.update-header { display: grid; gap: 8px; }

#update-title {
  margin: 0;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--color-secondary);
  font-size: clamp(28px, 3.8vw, 48px);
  line-height: 1.1;
}

.update-meta-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  color: #6B7280;
  font-weight: 600;
}

.update-hero-media { background: #fff; border-bottom: 1px solid #E5E7EB; }
.hero-figure { max-width: 1160px; margin: 0 auto; padding: 12px 20px; }
.hero-figure img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 14px;
  object-fit: cover;
  color: transparent;
  font-size: 0;
  text-indent: -9999px;
}

.update-body-section {
  background: var(--color-primary);
  padding: clamp(24px,5vw,48px) 0 clamp(44px,7vw,72px);
}

.prose {
  max-width: 80ch;
  color: var(--color-secondary);
  font-size: 18px;
  line-height: 1.6;
}
.prose h2 { font-size: 28px; margin: 24px 0 8px; }
.prose h3 { font-size: 22px; margin: 20px 0 6px; }
.prose p  { margin: 0 0 14px; }
.prose ul { margin: 0 0 14px 1.1em; }
.prose li { margin: 6px 0; }

.update-divider { border: 0; height: 1px; background: #E5E7EB; margin: 28px 0 20px; }
.update-pager { display: flex; gap: 16px; flex-wrap: wrap; }
.pager-link {
  text-decoration: none;
  font-weight: 800;
  color: var(--color-accent);
}
.pager-link:hover { text-decoration: underline; }

@media (max-width: 720px) {
  .prose { font-size: 16px; }
  .hero-figure { padding: 10px 20px; }
  .update-meta-row { gap: 10px; }
}
